{"version":3,"sources":["/Users/valeriavianagusmao/git/store/src/App.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport {IntlProvider} from 'react-intl';\nimport CheckoutContext from 'modules/checkout/context';\nimport {CheckoutItem} from 'modules/checkout/types';\nimport {Product} from 'modules/products/types';\nimport UserContext from 'modules/profile/context';\nimport {User} from 'modules/profile/types';\nimport Navigation from './Navigation';\nimport locales from './locales';\nimport getDeviceLocale from 'lib/getDeviceLocale';\n\nconst deviceLocale = getDeviceLocale();\nconst locale: keyof typeof locales =\n  deviceLocale in locales ? deviceLocale : 'en';\n\nexport default class App extends React.Component<\n  {},\n  {cart: Array<CheckoutItem>; user?: User}\n> {\n  state = {\n    user: undefined,\n    cart: [],\n  };\n  addToCart = (product: Product, quantity: number = 1) => {\n    return this.setState(({cart}) => {\n      const item = cart.find((item) => item.product.id === product.id);\n      if (!item) return {cart: [...cart, {product, quantity}]};\n      item.quantity += quantity;\n      return {cart: [...cart]};\n    });\n  };\n  changeQuantity = (id: string, quantity: number) => {\n    return this.setState(({cart}) => {\n      return {\n        cart: cart.map((item) => {\n          if (item.product.id === id) {\n            return {...item, quantity};\n          }\n          return item;\n        }),\n      };\n    });\n  };\n  removeFromCart = (id: string) => {\n    return this.setState(({cart}) => {\n      const itemIdx = cart.findIndex((item) => item.product.id === id);\n      if (itemIdx === -1) return {cart: [...cart]};\n      return {cart: cart.splice(itemIdx, 1)};\n    });\n  };\n  render() {\n    return (\n      <IntlProvider locale={locale} messages={locales[locale]}>\n        <CheckoutContext.Provider\n          value={{\n            items: this.state.cart,\n            addItem: this.addToCart,\n            removeItem: this.removeFromCart,\n            changeQuantity: this.changeQuantity,\n          }}>\n          <UserContext.Provider\n            value={{\n              user: this.state.user,\n              setUser: (user) => this.setState({user}),\n            }}>\n            <Navigation />\n          </UserContext.Provider>\n        </CheckoutContext.Provider>\n      </IntlProvider>\n    );\n  }\n}\n"]}